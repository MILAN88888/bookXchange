<p id="edit-msg"></p>

<div id="personalbook-div">
    {% for book in personalBooks %}

        <div class="mx-1">
            <div id="book{{book.id}}" class="card" style="width: 15rem;">
                <img src="../Upload/Books/{{ book.image }}" width="100px" height="100px" class="card-img-top" alt="...">
                <div class="card-body">
                    <p class="card-text">{{ book.book_name }}<br>
                        Author : {{ book.author}} <br>Edition : {{ book.edition }}<br> Status : {{
                        book.status }} <br> Rating : {{ book.rating }}</p>
                    <a onclick="myedit('{{book.id}}')" class="btn btn-primary">Edit</a>
                    <a onclick="bookdelete('{{ book.id }}')" class="btn btn-primary">Delete</a>
                </div>
            </div>
        </div>
  
    {% endfor %}

</div>
<div id="editbook-div">
    
    <button id="edit-close">x</button>
    <b><p>________Edit Book Form______</p></b>
    <form action="" id="editbook-form" method="post" enctype="multipart/form-data" autocomplete="off">
        <img width="200px" height="100px" id="edit-img" /><br><br>
        <input hidden type="text" id="book_id" name="book_id" placeholder="Book id">
        <input hidden type="text" id="old_image" name="old_image">
        <input type="file" id="book_image" name="book_image">
        <label id="#book_img_error" class="error"></label>
        <input type="text" id="book_name" name="book_name" placeholder="Book Name">
        <input type="text" id="book_genre" name="book_genre" placeholder="Book Genre">
        <input type="text" id="book_author" name="book_author" placeholder="Book Author">
        <input type="text" id="book_edition" name="book_edition" placeholder="Book Edition">
        <input type="text" id="book_des" name="book_des" placeholder="Book Description"><br>
        <select>
            <option>Not-issued</option><br>
        </select><br>
        <input type="number" id="book_rating" min="1" max="5" step="0.5" name="book_rating" placeholder="Rating 1 to 5"
            required>
            <br>
            <br>
        <input type="submit" name="editbook" value="submit">
    </form>

</div>
<style>
    #editbook-div {
        display: none;
        width: 350px;
        height: 450px;
        background-color: aquamarine;
        padding-left: 75px;
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        
    }

    #editbook-div {
        display: none;
    }

    #edit-close {
        float: right;
    }

    .error {
        color: red;
    }
    #personalbook-div
    {
        display: flex;
        flex-direction: row;
        justify-content: center;
    }
   
   
</style>

<script src="{{ baseurl }}js/personalbook.js"></script>


<script>
    $(document).find('#edit-close').click(function () {
        $(document).find('#editbook-div').hide();
        $(document).find('#editbook-form')[0].reset();
    })

</script>